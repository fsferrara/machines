#!/usr/bin/env bash
set -e
set -u

git_update_single_folder() {
    cd "$1"
    if [ -d ".git" ]; then # is a git repository
        echo -e "ğŸ“ Processing $1"
        git fetch
        git pull --rebase --autostash
    fi
    cd ..
}

FOLDERS=$(ls -d */)
for folder in $FOLDERS; do
    git_update_single_folder $folder
done

exit 0
